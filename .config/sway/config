## Variables to allow for easier config
# Main mod key
set $mod Mod4

# Movement keys
set $left  h
set $right l
set $up    k
set $down  j

# Launcher (Mod D)
set $launcher wofi --show run

# Screenshot (Mod Delete)
set $screenshot grimshot copy area

# Terminal (Mod Return)
set $terminal kitty

# Workspace names
set $ws1  "1"
set $ws2  "2"
set $ws3  "3"
set $ws4  "4"
set $ws5  "5"
set $ws6  "6"
set $ws7  "7"
set $ws8  "8"
set $ws9  "9"
set $ws10 "10"

## Actual config
# Programmer Dvorak layout for all keyboards
input "type:keyboard" {
    xkb_layout  "us"
    xkb_options "caps:escape"
    xkb_variant "dvp"
    xkb_model   "pc101"
}

# Set up touchpad settings
input "1452:594:bcm5974" {
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
}

# Bind Mod Delete to take a screenshot
bindsym $mod+Delete exec --no-startup-id $screenshot

# Jump to urgent container
bindsym $mod+x [urgent=latest] focus

# Volume control
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer set  Master 5%+    && ~/.config/sway/notifications/volume.sh
bindsym XF86AudioLowerVolume exec --no-startup-id amixer set  Master 5%-    && ~/.config/sway/notifications/volume.sh
bindsym XF86AudioMute        exec --no-startup-id amixer sset Master toggle && ~/.config/sway/notifications/volume.sh

# Media control
bindsym XF86AudioPlay  exec --no-startup-id playerctl play-pause
bindsym XF86AudioPause exec --no-startup-id playerctl play-pause
bindsym XF86AudioNext  exec --no-startup-id playerctl next
bindsym XF86AudioPrev  exec --no-startup-id playerctl previous

# Brightness control (requires acpi_video0 rule in /etc/udev/rules.d/backlight.rule)
bindsym XF86MonBrightnessUp   exec --no-startup-id brightnessctl set +10% && ~/.config/sway/notifications/brightness.sh
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl set 10%- && ~/.config/sway/notifications/brightness.sh

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Disable changing focus when mouse moves
focus_follows_mouse no

# Align titles to center
title_align center

# Need the gaps ofc
gaps inner 15
gaps outer 15

# Enable Xwayland
xwayland enable

# Hide cursor after 10 seconds
seat "seat0" hide_cursor 10000

# Set borders
default_border pixel 3
default_floating_border none

# Start a terminal
bindsym $mod+Return exec $terminal

# Kill focused window
bindsym $mod+Shift+q kill

bindsym $mod+d exec --no-startup-id $launcher

# Change focus
bindsym $mod+$left  focus left
bindsym $mod+$down  focus down
bindsym $mod+$up    focus up
bindsym $mod+$right focus right

# Move focused window
bindsym $mod+Shift+$left  move left
bindsym $mod+Shift+$down  move down
bindsym $mod+Shift+$up    move up
bindsym $mod+Shift+$right move right

# Change workspace
bindsym $mod+Ctrl+$left  workspace prev
bindsym $mod+Ctrl+$right workspace next

# Change split direction
bindsym $mod+b splith
bindsym $mod+v splitv
bindsym $mod+i split toggle

# Enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# Change container layout
bindsym $mod+o layout stacking
bindsym $mod+e layout tabbed
bindsym $mod+u layout toggle split

# Toggle tiling/floating
bindsym $mod+Shift+space floating toggle

# Change focus between tiling/floating windows
bindsym $mod+space focus mode_toggle

# Focus the parent container
bindsym $mod+a focus parent

# Focus the child container
bindsym $mod+Shift+a focus child

# Switch to workspace
bindsym $mod+parenleft      workspace $ws1
bindsym $mod+parenright     workspace $ws2
bindsym $mod+braceright     workspace $ws3
bindsym $mod+plus           workspace $ws4
bindsym $mod+braceleft      workspace $ws5
bindsym $mod+bracketright   workspace $ws6
bindsym $mod+bracketleft    workspace $ws7
bindsym $mod+exclam         workspace $ws8
bindsym $mod+equal          workspace $ws9
bindsym $mod+asterisk       workspace $ws10

# Move focused container to workspace
bindsym $mod+1 move container to workspace $ws1
bindsym $mod+2 move container to workspace $ws2
bindsym $mod+3 move container to workspace $ws3
bindsym $mod+4 move container to workspace $ws4
bindsym $mod+5 move container to workspace $ws5
bindsym $mod+6 move container to workspace $ws6
bindsym $mod+7 move container to workspace $ws7
bindsym $mod+8 move container to workspace $ws8
bindsym $mod+9 move container to workspace $ws9
bindsym $mod+0 move container to workspace $ws10

# Move focus between screens
bindsym $mod+Alt+$left  focus output left
bindsym $mod+Alt+$right focus output right

bindsym $mod+Shift+c reload
bindsym $mod+Shift+e exec "swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -b 'Yes, exit sway' 'swaymsg exit'" 

# Resize mode
mode "resize" {
    bindsym $left  resize shrink width  10 px or 10 ppt
    bindsym $right resize grow   width  10 px or 10 ppt
    bindsym $down  resize shrink height 10 px or 10 ppt
    bindsym $up    resize grow   height 10 px or 10 ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

# Coloring
client.focused            #FAF4ED #FAF4ED #907AA9 #FAF4ED
client.unfocused          #FAF4ED #FAF4ED #232136 #FAF4ED 
client.focused_inactive   #FAF4ED #FAF4ED #232136 #FAF4ED
client.urgent             #FAF4ED #FAF4ED #B4637A #FAF4ED

# Autofocus urgent apps
for_window [urgent=latest] focus

# Startup shit
exec --no-startup-id waybar
